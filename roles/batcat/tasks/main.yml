---
- name: ensure bat config dir exists
  become: false
  ansible.builtin.file:
    path: "~/.config/bat/themes"
    state: directory
    mode: 0755

- name: Checkout bat solarized theme
  become: false
  ansible.builtin.git:
    repo: "https://github.com/deplorableword/textmate-solarized.git"
    dest: "~/.config/bat/themes"
  register: git_checkout

- name: Build bat cache
  become: false
  ansible.builtin.shell: /usr/bin/batcat cache --build
  register: cache_output
  when: git_checkout.changed
# - name: link bat to batcat
#   ansible.builtin.file:
#     src: /usr/bin/bat
#     dest: /usr/bin/batcat
#    owner: root
#    group: root
#    state: link
#  become: true
